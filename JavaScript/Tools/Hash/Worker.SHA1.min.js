importScripts('https://frivolous-sites.github.io/Resources/JavaScript/Tools/Hash/Crypto.min.js');function sha1(f,g){for(var h=[],k=g[0],l=g[1],o=g[2],p=g[3],q=g[4],r=0;r<f.length;r+=16){for(var s=k,u=l,v=o,x=p,y=q,z=0;80>z;z++){if(16>z)h[z]=0|f[r+z];else{var A=h[z-3]^h[z-8]^h[z-14]^h[z-16];h[z]=A<<1|A>>>31}var B=(k<<5|k>>>27)+q+(h[z]>>>0)+(20>z?(l&o|~l&p)+1518500249:40>z?(l^o^p)+1859775393:60>z?(l&o|l&p|o&p)-1894007588:(l^o^p)-899497514);q=p,p=o,o=l<<30|l>>>2,l=k,k=B}k=0|k+s,l=0|l+u,o=0|o+v,p=0|p+x,q=0|q+y}return[k,l,o,p,q]}self.hash=[1732584193,-271733879,-1732584194,271733878,-1009589776],self.addEventListener('message',function(f){var g,h,k,l,o,p,q,r;g=new Uint8Array(f.data.message),h=Crypto.util.bytesToWords(g),k=f.data.block,f=null,g=null,o={block:k},k.end===k.file_size?(l=8*k.file_size,p=8*(k.end-k.start),q=Math.floor(l/4294967296),r=4294967295&l,h[p>>>5]|=128<<24-p%32,h[(p+64>>>9<<4)+14]=q,h[(p+64>>>9<<4)+15]=r,self.hash=sha1(h,self.hash),o.result=Crypto.util.bytesToHex(Crypto.util.wordsToBytes(self.hash))):self.hash=sha1(h,self.hash),h=null,self.postMessage(o)},!1);
/* Copyright 2018 Resources. All rights reserved. */
